<!-- index renders a list of all the rock locations in the DB -->
<!-- should implement a search button at some point -->
{% extends "rock/base.html" %}

{% block content %}

<head>
    {% load static %}
    <script type='text/javascript' src="{% static 'rock/js/google_map.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'rock/bulma-0.8.0/css/stylesChuck.css' %}"/>
</head>

<div class="margin: auto">
  <div class="tile is-ancestor">
    <div class="tile is-vertical">

      <!--Header to welcome user-->
      <div class="tile is-parent">
        <div class="has-text-centered tile is-ancestor">
          <div class="tile is-child box front-background">
            <h1 class="title is-2">
              Hello
              <span style="color:#1496ed">
                {{ user.username }}
              </span>
            </h1>
            <h2 class="title is-3">
              Welcome to rocker.
            </h2>
            <h4 class="title is-5" style="color:#1496ed">
              Take a look at the list of rock destinations created by rocker users
            </h4>
          </div>
        </div>
      </div>

      <div class="tile">
        <div class="tile is-parent is-vertical">

          <div class="tile is-parent">
            <article class="tile is-child notification is-danger">
              <p class="title">
                Map
              </p>
              <p class="subtitle">
                of courts
              </p>
              <div class="content">

                <script>
                  load_map({{location.latitude}}, {{location.longitude}}, {{location.id}});
                </script>
                <div id='{{location.id}}' style='width: 100%; height: 500px;'></div>
              </div>
            </article>
          </div>

        </div>

        <div class="tile is-parent is-3 scrollable">
          <article class="tile is-child notification is-success">
            <div class="content">
              <p class="title">Locations</p>
              <p class="subtitle">of courts</p>
              <div class="content">
                {% for l in all_locations %}
                  {% if location.sport_location_img %}
                    <!--Image of Location-->
                    <img src="{{ l.sport_location_img.url }}" alt="Image not found" onerror="this.onerror=null;this.src='{% static 'rock/images/bball.PNG' %}';" width="100%" height="100%">
                  {% endif %}
                {% endfor %}
              </div>
            </div>
          </article>
        </div>

      </div>


    </div>
  </div>
</div>
{% endblock content %}
